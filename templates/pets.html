{% extends 'layout.html' %}

{% block body %}

<div class="row">
    <div class="col-md-5">
        <div class="card card-body">
            <form action="/add_pet" method="POST">
                <div class="card-text">
                    <div class="mb-3">
                        <label for="name" class="form-label">Nombre de mascota: </label>
                        <input class="form-control" type="text" name="name" placeholder="name">
                    </div>
                    <div class="mb-3">
                        <label for="owner" class="form-label">Dueño: </label>
                        <input class="form-control" type="text" name="owner" placeholder="owner">
                    </div>
                    <div class="mb-3">
                        <label for="species" class="form-label">Especie: </label>
                        <input class="form-control" type="text" name="species" placeholder="species">
                    </div>
                    <div class="mb-3">
                        <label for="sex" class="form-label">Sex: </label>
                        <input class="form-control" type="text" name="sex" placeholder="sex">
                    </div>
                    <div class="mb-3">
                        <label for="birth" class="form-label">Nacimiento: </label>
                        <input class="form-control" type="text" name="birth" placeholder="birth">
                    </div>
                    <div class="mb-3">
                        <label for="death" class="form-label">Muerte: </label>
                        <input class="form-control" type="text" name="death" placeholder="death">
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary">
                    Agregar <i class="fas fa-plus-circle"></i>
                </button>
            </form>
        </div>
    </div>

    <div class="col-md-7">
        <table class="table table-success table-striped">
            <thead>
                <tr>
                    <td>Nombre</td>
                    <td>Dueño</td>
                    <td>Especie</td>
                    <td>sex</td>
                    <td>Nacimiento</td>
                    <td>Fallecimiento</td>
                    <td>OPERACIONES</td>
                </tr>
            </thead>
            <tbody>
                {% for pet in pets %}
                    <tr>
                        <td>{{ pet.1 }}</td>
                        <td>{{ pet.2 }}</td>
                        <td>{{ pet.3 }}</td>
                        <td>{{ pet.4 }}</td>
                        <td>{{ pet.5 }}</td>
                        <td>{{ pet.6 }}</td>
                        <td>
                            <a href="/edit/{{ pet.0 }}"><i class="fas fa-edit"></i></a>
                            <a href="/delete/{{ pet.0 }}"><i class="fas fa-trash"></i></a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% with messages = get_flashed_messages() %}
{% if messages %}
{% for message in messages %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        {{message}}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    
{% endfor %}
{% endif %}
{% endwith %}
{% endblock %}